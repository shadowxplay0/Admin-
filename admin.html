<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Admin Panel - Movie Add</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body{font-family:Arial, sans-serif;background:#0b0c0e;color:#fff;padding:20px;}
    input,button,pre{padding:10px;margin:6px 0;border-radius:8px;border:1px solid #222;background:#0f1113;color:#fff;width:100%}
    .card{background:#111;border-radius:10px;padding:16px;max-width:800px;margin:auto;}
    pre{background:#000;color:#0f0;overflow:auto}
  </style>
</head>
<body>
  <div class="card">
    <h2>Admin Panel â€” Movie Fetch & JSON Generator</h2>
    <label>Search Movie</label>
    <input id="query" placeholder="e.g. Joker, 3 Idiots">
    <button id="doSearch">Search</button>
    <div id="results"></div>
    <h3>Generated JSON</h3>
    <pre id="jsonOut">[]</pre>
  </div>

<script>
  const API_KEY = "706E5505-FF5D4BA0-8298A9D7-BF54D707"; 
  const out = document.getElementById('jsonOut');
  const results = document.getElementById('results');
  let arr=[];

  document.getElementById('doSearch').addEventListener('click', async ()=>{
    const q = document.getElementById('query').value.trim();
    if(!q) return;
    const url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${encodeURIComponent(q)}`;
    const r = await fetch(url); const d = await r.json();
    results.innerHTML='';
    d.results.forEach(m=>{
      const b=document.createElement('button');
      b.textContent="Add "+m.title; b.onclick=()=>{ 
        arr.push({id:m.id,title:m.title,overview:m.overview,poster_path:m.poster_path,release_date:m.release_date,vote_average:m.vote_average});
        out.textContent=JSON.stringify(arr,null,2);
      };
      results.appendChild(b);
    });
  });
</script>
</body>
</html>
